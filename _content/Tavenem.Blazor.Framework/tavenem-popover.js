var t,e;!function(){const t={};try{if(process)return process.env=Object.assign({},process.env),void Object.assign(process.env,t)}catch(t){}globalThis.process={env:t}}(),function(t){t[t.None=0]="None",t[t.LeftClick=1]="LeftClick",t[t.RightClick=2]="RightClick",t[t.Click=3]="Click",t[t.MouseOver=4]="MouseOver",t[t.Any=7]="Any"}(t||(t={})),function(t){const e={top:{"top-left":"bottom-left","top-center":"bottom-center","anchor-bottom-center":"anchor-top-center","top-right":"bottom-right"},left:{"top-left":"top-right","center-left":"center-right","anchor-center-right":"anchor-center-left","bottom-left":"bottom-right"},right:{"top-right":"top-left","center-right":"center-left","anchor-center-left":"anchor-center-right","bottom-right":"bottom-left"},bottom:{"bottom-left":"top-left","bottom-center":"top-center","anchor-top-center":"anchor-bottom-center","bottom-right":"top-right"},"top-and-left":{"top-left":"bottom-right"},"top-and-right":{"top-right":"bottom-left"},"bottom-and-left":{"bottom-left":"top-right"},"bottom-and-right":{"bottom-right":"top-left"}},o=new Event("focuslost",{bubbles:!0}),i=new ResizeObserver((function(){a()}));function s(t){const e=t.dataset.anchorId,n=e?document.getElementById(e):null;let o=n?n.parentElement:t.parentElement;for(;o&&(!o.contains(t)||"static"==getComputedStyle(o).position);)o=o.parentElement;return o}function r(t){if(!(t&&t instanceof HTMLElement))return;if(!t.classList.contains("open")){const e=t.parentElement;if(!e||!e.hasAttribute("data-popover-container")||!("popoverOpen"in e.dataset))return}const o=function(t){if(!t)return document.documentElement;let e=null;for(;null===e&&t.parentElement;){if("HTML"==(t=t.parentElement).nodeName)return t;const e=window.getComputedStyle(t);if("none"!=e.transform||"none"!=e.perspective||"transform"==e.willChange||"perspective"==e.willChange||"filter"==e.willChange||"none"!=e.filter||"paint"==e.contain||"none"!=e.getPropertyValue("backdrop-filter"))return t}return document.documentElement}(t).getBoundingClientRect();let i=null;t instanceof n&&t.anchor?i=t.anchor:t.dataset.anchorId&&(i=document.getElementById(t.dataset.anchorId));const r=i?i.getBoundingClientRect():null,a=s(t),c=i?r:a?a.getBoundingClientRect():o;t.classList.contains("match-width")&&(t.style.minWidth=c.width+"px"),t.classList.contains("limit-width")&&(t.style.maxWidth=c.width+"px");const d=t.getBoundingClientRect(),l=t.classList,p=Array.from(t.classList),u=h(p,c,d);let m=u.left,v=u.top,f=u.offsetX,g=u.offsetY;const b=t.dataset.positionX,T=b?parseFloat(b):void 0,O=t.dataset.positionY,E=O?parseFloat(O):void 0;if(l.contains("flip-onopen")||l.contains("flip-always")){let n=c.left+m,o=c.top+v;T&&E&&(n=T+m,o=E+v);const i=n+f,s=window.innerWidth-n-d.width,r=o-d.height,a=o,u=window.innerHeight-o-d.height,b=t.dataset.popoverFlipped;let O=b;if(O||(l.contains("top-left")?u<0&&s<0&&a>=d.height&&i>=d.width?O="top-and-left":u<0&&a>=d.height?O="top":s<0&&i>=d.width&&(O="left"):l.contains("top-center")?u<0&&a>=d.height&&(O="top"):l.contains("top-right")?u<0&&i<0&&a>=d.height&&s>=d.width?O="top-and-right":u<0&&a>=d.height?O="top":i<0&&s>=d.width&&(O="right"):l.contains("center-left")?s<0&&i>=d.width&&(O="left"):l.contains("center-right")?i<0&&s>=d.width&&(O="right"):l.contains("bottom-left")?r<0&&s<0&&u>=0&&i>=d.width?O="bottom-and-left":r<0&&u>=0?O="bottom":s<0&&i>=d.width&&(O="left"):l.contains("bottom-center")?r<0&&u>=0&&(O="bottom"):l.contains("bottom-right")&&(r<0&&i<0&&u>=0&&s>=d.width?O="bottom-and-right":r<0&&u>=0?O="bottom":i<0&&s>=d.width&&(O="right"))),O&&"none"!=O){const n=function(t,n,o,i){const s=[];for(let o=0;o<t.length;o++){const i=t[o],r=e[n][i];r?s.push(r):s.push(i)}return h(s,o,i)}(p,O,c,d);m=n.left,v=n.top,f=n.offsetX,g=n.offsetY,t.dataset.popoverFlip="flipped"}else delete t.dataset.popoverFlip;l.contains("flip-onopen")&&!b&&(t.dataset.popoverFlipped=O||"none")}T&&E?(f+=T,g+=E):(f+=c.left-o.left,g+=c.top-o.top);const w=t.dataset.offsetX,L=w?parseFloat(w):void 0;L&&(f+=L);const _=t.dataset.offsetY,y=_?parseFloat(_):void 0;y&&(g+=y),t.style.left=m+f+"px",t.style.top=v+g+"px"}function a(){for(const t of document.getElementsByTagName("tf-popover"))r(t)}function h(t,e,n){let o=0,i=0;t.indexOf("anchor-top-left")>=0?(i=0,o=0):t.indexOf("anchor-top-center")>=0?(i=0+e.width/2,o=0):t.indexOf("anchor-top-right")>=0?(i=0+e.width,o=0):t.indexOf("anchor-center-left")>=0?(i=0,o=0+e.height/2):t.indexOf("anchor-center-center")>=0?(i=0+e.width/2,o=0+e.height/2):t.indexOf("anchor-center-right")>=0?(i=0+e.width,o=0+e.height/2):t.indexOf("anchor-bottom-left")>=0?(i=0,o=0+e.height):t.indexOf("anchor-bottom-center")>=0?(i=0+e.width/2,o=0+e.height):t.indexOf("anchor-bottom-right")>=0&&(i=0+e.width,o=0+e.height);let s=0,r=0;return t.indexOf("top-left")>=0?(s=0,r=0):t.indexOf("top-center")>=0?(s=-n.width/2,r=0):t.indexOf("top-right")>=0?(s=-n.width,r=0):t.indexOf("center-left")>=0?(s=0,r=-n.height/2):t.indexOf("center-center")>=0?(s=-n.width/2,r=-n.height/2):t.indexOf("center-right")>=0?(s=-n.width,r=-n.height/2):t.indexOf("bottom-left")>=0?(s=0,r=-n.height):t.indexOf("bottom-center")>=0?(s=-n.width/2,r=-n.height):t.indexOf("bottom-right")>=0&&(s=-n.width,r=-n.height),{top:o,left:i,offsetX:s,offsetY:r}}function c(t,e){const n=[];if(e.target instanceof Element){let o=e.target.closest("tf-popover");if(!o&&t)for(const t of document.getElementsByTagName("tf-popover")){const o=t.getAttribute("data-focus-id");if(o){e.target.closest(`#${o}`)&&n.unshift(t)}}else for(;o;)n.unshift(o),o=o.parentElement?.closest("tf-popover");if(0==n.length){const t=e.target.querySelector("tf-popover");if(t){t.getAttribute("data-focus-id")==e.target.id&&n.unshift(t)}}}for(const i of document.getElementsByTagName("tf-popover")){if(!i.classList.contains("open"))continue;const s=i,r=-1!=n.indexOf(s);if(t){if(r){s.focusTimer&&(clearTimeout(s.focusTimer),delete s.focusTimer,setTimeout((()=>{clearTimeout(s.focusTimer),delete s.focusTimer}),100));continue}}else if(r&&e.relatedTarget instanceof Element&&e.relatedTarget.closest("tf-popover")==s)continue;s.focusTimer=setTimeout((()=>{s.dispatchEvent(o)}),150)}}t.getPopoverParent=s,t.initialize=function(){i.observe(document.body),document.addEventListener("focusin",c.bind(void 0,!0)),document.addEventListener("focusout",c.bind(void 0,!1)),document.addEventListener("scroll",a.bind(void 0),!0),window.addEventListener("resize",a.bind(void 0),!0)},t.placePopover=r,t.placePopovers=a}(e||(e={}));class n extends HTMLElement{static get observedAttributes(){return["data-offset-x","data-offset-y","data-position-x","data-position-y"]}get anchor(){return this._anchor}set anchor(t){this._anchor=t}get mouseOver(){return this._mouseOver}set mouseOver(t){this._mouseOver=t}constructor(){super(),this._mouseOver=!1,this._mutationObserver=new MutationObserver((t=>{for(const n of t)"attributes"===n.type&&n.target instanceof HTMLElement&&(n.target.classList.contains("flip-onopen")&&0==n.target.classList.contains("open")&&(delete n.target.dataset.popoverFlipped,delete n.target.dataset.popoverFlip),e.placePopover(n.target))})),this._parentMutationObserver=new MutationObserver((t=>{for(const n of t)if("attributes"===n.type&&n.target instanceof HTMLElement){const t=n.target.querySelector("tf-popover");t&&(t.classList.contains("flip-onopen")&&!("popoverOpen"in n.target.dataset)&&(delete n.target.dataset.popoverFlipped,delete n.target.dataset.popoverFlip),e.placePopover(t))}})),this._parentResizeObserver=new ResizeObserver((t=>{for(let n of t){const t=n.target;for(let n=0;n<t.childNodes.length;n++){const o=t.childNodes[n];o instanceof HTMLElement&&o.id&&o.id.startsWith("popover-")&&e.placePopover(o)}}})),this._resizeObserver=new ResizeObserver((t=>{for(let n of t){let t=n.target;t instanceof HTMLElement&&e.placePopover(t)}}))}connectedCallback(){const t=this.attachShadow({mode:"open"}),n=document.createElement("style");n.innerHTML=":host {\n    --popover-color: var(--tavenem-color-text);\n    --popover-color-bg: var(--tavenem-color-bg-surface);\n    --tavenem-theme-color: var(--tavenem-color-bg-alt);\n    --tavenem-theme-color-bg-alt: var(--tavenem-color-bg);\n    --tavenem-theme-color-hover: var(--tavenem-color-bg-surface);\n    --tavenem-theme-color-text: var(--tavenem-color-text);\n    -webkit-backdrop-filter: blur(12px);\n    backdrop-filter: blur(12px);\n    background-color: var(--popover-color-bg);\n    border-radius: var(--tavenem-border-radius);\n    box-shadow: var(--tavenem-shadow-2);\n    color: var(--popover-color);\n    max-width: 100vw;\n    opacity: 0;\n    outline: 0;\n    pointer-events: none;\n    position: fixed;\n    transition: box-shadow 0ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n    visibility: hidden;\n    width: max-content;\n    z-index: var(--tavenem-zindex-tooltip);\n}\n\n@media print {\n    :host {\n        display: none;\n    }\n}\n\n:host(.fixed) {\n    z-index: var(--tavenem-zindex-tooltip);\n}\n\n:host(.filled) {\n    --popover-color: var(--tavenem-theme-color-text, var(--tavenem-color-text));\n    --popover-color-bg: var(--tavenem-theme-color, var(--tavenem-color-bg-alt));\n}",t.appendChild(n);const o=document.createElement("slot");t.appendChild(o);const i=e.getPopoverParent(this);i&&(this.addEventListener("click",this.cancelFocusLoss.bind(this)),this.addEventListener("contextmenu",this.cancelFocusLoss.bind(this)),this.addEventListener("mouseleave",this.onMouseLeave.bind(this)),this.addEventListener("mouseover",this.onMouseOver.bind(this)),this.addEventListener("touchstart",this.cancelFocusLoss.bind(this)),this._mutationObserver.observe(this,{attributeFilter:["class"]}),this._parentResizeObserver.observe(i),this._resizeObserver.observe(this),this.parentElement&&this.parentElement.hasAttribute("data-popover-container")&&this._parentMutationObserver.observe(this.parentElement,{attributeFilter:["data-popover-open"]}))}disconnectedCallback(){this.removeEventListener("click",this.cancelFocusLoss.bind(this)),this.removeEventListener("contextmenu",this.cancelFocusLoss.bind(this)),this.removeEventListener("mouseleave",this.onMouseLeave.bind(this)),this.removeEventListener("mouseover",this.onMouseOver.bind(this)),this.removeEventListener("touchstart",this.cancelFocusLoss.bind(this)),this._mutationObserver.disconnect(),this._parentMutationObserver.disconnect(),this._parentResizeObserver.disconnect(),this._resizeObserver.disconnect()}attributeChangedCallback(t,e,n){"data-offset-x"===t?this.changeOffsetX(e,n):"data-offset-y"===t?this.changeOffsetY(e,n):"data-position-x"===t?this.changePositionX(n):"data-position-y"===t&&this.changePositionY(n)}cancelFocusLoss(t){const e=[];if(t.target instanceof Element){let n=t.target.closest("tf-popover");for(;n;)e.push(n),n=n.parentElement?.closest("tf-popover")}if(e.length)for(const t of e)t.focusTimer&&(clearTimeout(t.focusTimer),delete t.focusTimer)}changeOffsetX(t,e){const n=e?parseFloat(e):void 0,o=t?parseFloat(t):void 0;if(o||n){let t=0;this.style.left&&(t=Number.parseFloat(this.style.left.substring(0,this.style.left.length-2))),o&&(t-=o),n&&(t+=n),this.style.left=+t.toFixed(2)+"px"}}changeOffsetY(t,e){const n=e?parseFloat(e):void 0,o=t?parseFloat(t):void 0;if(o||n){let t=0;this.style.top&&(t=Number.parseFloat(this.style.top.substring(0,this.style.top.length-2))),o&&(t-=o),n&&(t+=n),this.style.top=+t.toFixed(2)+"px"}}changePositionX(t){const e=t?parseFloat(t):void 0;e&&(this.style.left=e.toFixed(2)+"px")}changePositionY(t){const e=t?parseFloat(t):void 0;e&&(this.style.top=e.toFixed(2)+"px")}onMouseLeave(t){if(this._mouseOver=!1,this.previousSibling&&this.previousSibling instanceof i&&this.previousSibling.onPopoverMouseLeave(),this.classList.contains("tooltip")){const e=this.closest("tf-tooltip");e&&e instanceof o&&e.onPopoverMouseLeave(this,t)}}onMouseOver(){if(this._mouseOver=!0,this.classList.contains("tooltip")){const t=this.closest("tf-tooltip");t&&t instanceof o&&t.onPopoverMouseOver()}}}class o extends HTMLElement{constructor(){super(),this._dismissed=!1,this._hasButton=!1,this._hideTimer=-1,this._mouseOver=!1,this._showTimer=-1}connectedCallback(){const t=this.attachShadow({mode:"open"}),e=document.createElement("style");if("tooltipButton"in this.dataset){this._hasButton=!0,e.innerHTML=':host {\n    position: relative;\n}\n\nbutton {\n    background-color: transparent;\n    border-color: var(--tavenem-theme-color-text);\n    border-radius: 9999px;\n    border-style: none;\n    border-width: 1px;\n    box-shadow: none;\n    box-sizing: content-box;\n    color: var(--tavenem-theme-color);\n    cursor: pointer;\n    display: inline-flex;\n    fill: currentColor;\n    flex: 0 0 auto;\n    height: 1rem;\n    margin: 0;\n    outline: 0;\n    overflow: hidden;\n    position: absolute;\n    stroke: currentColor;\n    stroke-width: 1px;\n    top: -.25em;\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,fill 200ms cubic-bezier(.4,0,.2,1) 0ms;\n    user-select: none;\n    width: 1rem;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    -webkit-tap-highlight-color: transparent;\n}\n\n    button:after {\n        background-image: radial-gradient(circle,#000 10%,transparent 10.01%);\n        background-position: 50%;\n        background-repeat: no-repeat;\n        content: "";\n        display: block;\n        height: 100%;\n        left: 0;\n        opacity: 0;\n        pointer-events: none;\n        position: absolute;\n        top: 0;\n        transform: scale(7,7);\n        transition: transform .3s,opacity 1s;\n        width: 100%;\n    }\n\n    button:active:after {\n        transform: scale(0,0);\n        opacity: .1;\n        transition: 0s;\n    }\n\n    button::-moz-focus-inner {\n        border-style: none;\n    }\n\n    button:hover,\n    button:focus-visible {\n        background-color: var(--tavenem-theme-color-hover);\n    }\n\nslot {\n    display: none;\n}\n\n    :host([data-popover-open]) slot {\n        display: block;\n    }',t.appendChild(e);const n=document.createElement("button");n.tabIndex=-1,n.addEventListener("click",this.toggle.bind(this)),n.addEventListener("focusin",this.onAttentionOnButton.bind(this)),n.addEventListener("focusout",this.onAttentionOutButton.bind(this)),n.addEventListener("mouseover",this.onAttentionOnButton.bind(this)),n.addEventListener("mouseleave",this.onAttentionOutButton.bind(this)),t.appendChild(n),this._button=n;const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"viewBox","0 0 24 24"),o.setAttributeNS(null,"height","1rem"),o.setAttributeNS(null,"width","1rem"),o.setAttributeNS(null,"fill","currentColor"),o.innerHTML='<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/>',n.appendChild(o)}else e.innerHTML=":host {\n    left: 0;\n    position: absolute;\n    top: 0;\n}\n\nslot {\n    display: none;\n}\n\n    :host([data-popover-open]) slot {\n        display: block;\n    }",t.appendChild(e);document.addEventListener("click",this.dismissTarget.bind(this)),document.addEventListener("focusin",this.onAttentionOnTarget.bind(this)),document.addEventListener("focusout",this.onAttentionOutTarget.bind(this)),document.addEventListener("mouseover",this.onAttentionOnTarget.bind(this)),document.addEventListener("mouseout",this.onAttentionOutTarget.bind(this));const n=document.createElement("slot");t.appendChild(n),this.addEventListener("click",this.dismiss.bind(this))}disconnectedCallback(){clearTimeout(this._hideTimer),clearTimeout(this._showTimer),document.removeEventListener("click",this.dismissTarget.bind(this)),document.removeEventListener("focusin",this.onAttentionOnTarget.bind(this)),document.removeEventListener("focusout",this.onAttentionOutTarget.bind(this)),document.removeEventListener("mouseover",this.onAttentionOnTarget.bind(this)),document.removeEventListener("mouseout",this.onAttentionOutTarget.bind(this)),this.removeEventListener("click",this.dismiss.bind(this)),this._button&&(this._button.removeEventListener("click",this.toggle.bind(this)),this._button.removeEventListener("focusin",this.onAttentionOnButton.bind(this)),this._button.removeEventListener("focusout",this.onAttentionOutButton.bind(this)),this._button.removeEventListener("mouseover",this.onAttentionOnButton.bind(this)),this._button.removeEventListener("mouseleave",this.onAttentionOutButton.bind(this)))}onPopoverMouseLeave(t,e){!this.contains(t)||e.relatedTarget instanceof Node&&this.contains(e.relatedTarget)||(this._mouseOver=!1),"popoverOpen"in this.dataset&&!this._mouseOver&&(this._dismissed=!1,clearTimeout(this._showTimer),this._hideTimer=setTimeout(this.hide.bind(this),200))}onPopoverMouseOver(){clearTimeout(this._hideTimer)}setVisibility(t){t?this.show():this.hide(),this._dismissed=!1}toggleVisibility(){"popoverOpen"in this.dataset?this.hide():this.show(),this._dismissed=!1}dismiss(){this._dismissed=!0,clearTimeout(this._showTimer),this._hideTimer=setTimeout(this.hide.bind(this),200)}dismissTarget(t){const e=this.verifyTarget(t);e&&(e!==this||"dismissOnTap"in this.dataset)&&this.dismiss()}hide(){this._mouseOver=!1,delete this.dataset.popoverOpen,clearTimeout(this._hideTimer),clearTimeout(this._showTimer),this._anchor=null}onAttentionOn(){if(this._mouseOver=!0,this._dismissed)return;const t=this.dataset.delay,e=t?parseInt(t):0;e>0?(clearTimeout(this._showTimer),clearTimeout(this._hideTimer),this._showTimer=setTimeout(this.show.bind(this),e)):this.show()}onAttentionOnButton(t){t.stopPropagation(),this._anchor=this._button,this.onAttentionOn()}onAttentionOnTarget(t){const e=this.verifyTarget(t);e&&(this._anchor=e,this.onAttentionOn())}onAttentionOut(){this._mouseOver=!1;const t=this.querySelector(".tooltip");t&&t instanceof n&&t.mouseOver||(this._dismissed=!1,clearTimeout(this._showTimer),this._hideTimer=setTimeout(this.hide.bind(this),200))}onAttentionOutButton(t){t.stopPropagation(),this.onAttentionOut()}onAttentionOutTarget(t){if(this.verifyTarget(t)){if(t.target instanceof Node){if(t instanceof MouseEvent&&t.target instanceof Node&&t.relatedTarget instanceof Node&&t.target.contains(t.relatedTarget))return;if(t instanceof FocusEvent&&t.target instanceof Node&&t.relatedTarget instanceof Node&&t.target.contains(t.relatedTarget))return}this.onAttentionOut()}}show(){clearTimeout(this._hideTimer),clearTimeout(this._showTimer);const t=this.querySelector("tf-popover");t instanceof n&&(t.anchor=this._anchor),this.dataset.popoverOpen=""}toggle(t){t.stopPropagation(),this.toggleVisibility()}verifyTarget(t){if(t.target===this)return this;if(!(t.target instanceof HTMLElement))return null;if("tooltipId"in t.target.dataset){return t.target.dataset.tooltipId===this.id?t.target:null}if(!this._hasButton&&"tooltipContainerTrigger"in this.dataset){let e=t.target.querySelector(":scope > tf-tooltip");if(!e&&t.target.parentElement&&(e=t.target.parentElement.querySelector(":scope > tf-tooltip"),e===this))return t.target.parentElement;if(e===this)return t.target}return null}}class i extends HTMLElement{static get observedAttributes(){return["disabled"]}constructor(){super(),this._activation=t.None,this._hideTimer=-1,this._showTimer=-1}static newDropdownToggleEvent(t){return new CustomEvent("dropdowntoggle",{bubbles:!0,detail:{value:t}})}connectedCallback(){const t=this.attachShadow({mode:"open"}),e=document.createElement("style");e.textContent=":host {\n    position: relative;\n}\n\nslot {\n    border-radius: inherit;\n}",t.appendChild(e);const n=document.createElement("slot");t.appendChild(n),this.addEventListener("click",this.onClick.bind(this)),this.addEventListener("contextmenu",this.onContext.bind(this)),this.addEventListener("focuslost",this.onPopoverFocusLost.bind(this)),this.addEventListener("mousedown",this.onMouseDown.bind(this)),this.addEventListener("mouseenter",this.onTriggerMouseEnter.bind(this)),this.addEventListener("mouseleave",this.onTriggerMouseLeave.bind(this)),this.addEventListener("mouseup",this.toggle.bind(this)),document.addEventListener("mousedown",this.close.bind(this))}disconnectedCallback(){clearTimeout(this._hideTimer),clearTimeout(this._showTimer),this.removeEventListener("click",this.onClick.bind(this)),this.removeEventListener("contextmenu",this.onContext.bind(this)),this.removeEventListener("focuslost",this.onPopoverFocusLost.bind(this)),this.removeEventListener("mousedown",this.onMouseDown.bind(this)),this.removeEventListener("mouseenter",this.onTriggerMouseEnter.bind(this)),this.removeEventListener("mouseleave",this.onTriggerMouseLeave.bind(this)),this.removeEventListener("mouseup",this.toggle.bind(this))}attributeChangedCallback(t,e,n){"disabled"===t&&n&&this.close()}onPopoverMouseLeave(){this._activation==t.MouseOver&&"popoverOpen"in this.dataset&&this.close()}setOpen(t){t?this.openInner():this.closeInner(),clearTimeout(this._hideTimer),clearTimeout(this._showTimer)}toggleOpen(){"popoverOpen"in this.dataset?this.closeInner():this.openInner(),clearTimeout(this._hideTimer),clearTimeout(this._showTimer)}close(){if(clearTimeout(this._hideTimer),clearTimeout(this._showTimer),"popoverOpen"in this.dataset){this._activation=t.None,this.closeInner();const e=this.querySelector("tf-popover.contained-popover");e&&e instanceof n&&(e.mouseOver=!1)}}closeInner(){delete this.dataset.popoverOpen,this.dispatchEvent(i.newDropdownToggleEvent(!1))}getMouseEvent(e){return e?"mouseenter"===e?.type?t.MouseOver:0===e.button?t.LeftClick:2===e.button?t.RightClick:t.None:t.None}onClick(t){if(t.target&&t.target!==this&&t.target instanceof HTMLElement){const e=t.target.closest("tf-popover.contained-popover");e&&this.contains(e)&&(t.stopPropagation(),this.close())}}onContext(e){const n=this.dataset.activation;((n?parseInt(n):0)&t.RightClick)!==t.None&&e.preventDefault()}onMouseDown(){clearTimeout(this._hideTimer)}open(t){if(clearTimeout(this._hideTimer),clearTimeout(this._showTimer),!this.hasAttribute("disabled")){if("openAtPointer"in this.dataset){const e=this.querySelector("tf-popover.contained-popover");if(e&&e instanceof n){const n=t?.clientX;n?e.dataset.positionX=n.toString():delete e.dataset.positionX;const o=t?.clientY;o?e.dataset.positionY=o.toString():delete e.dataset.positionY}}this._activation=this.getMouseEvent(t),this.openInner()}}openAfterDelay(){clearTimeout(this._hideTimer),clearTimeout(this._showTimer),this.hasAttribute("disabled")||(this._activation=t.MouseOver,this.openInner())}openDelayed(t,e){if(clearTimeout(this._showTimer),!this.hasAttribute("disabled")){if("openAtPointer"in this.dataset){const t=this.querySelector("tf-popover.contained-popover");if(t&&t instanceof n){const n=e?.clientX;n?t.dataset.positionX=n.toString():delete t.dataset.positionX;const o=e?.clientY;o?t.dataset.positionY=o.toString():delete t.dataset.positionY}}setTimeout(this.openAfterDelay.bind(this),t)}}openInner(){const t=this.querySelector("tf-popover.contained-popover");t&&e.placePopover(t),this.dataset.popoverOpen="",this.dispatchEvent(i.newDropdownToggleEvent(!0))}onPopoverFocusLost(t){t.target&&t.target instanceof n&&t.target.parentElement===this&&setTimeout(this.close.bind(this),100)}onTriggerMouseEnter(e){if("popoverOpen"in this.dataset)return;const n=this.dataset.activation;if(((n?parseInt(n):0)&t.MouseOver)!=t.None){const t=this.dataset.delay,n=t?parseInt(t):0;n<=0?this.open(e):this.openDelayed(n,e)}}onTriggerMouseLeave(){clearTimeout(this._showTimer),"popoverOpen"in this.dataset&&setTimeout((()=>{if(this._activation!==t.MouseOver)return;const e=this.querySelector("tf-popover.contained-popover");e&&e instanceof n&&e.mouseOver||this.close()}),100)}toggle(e){const n=this.getMouseEvent(e),o=this.dataset.activation,i=((o?parseInt(o):0)&n)!=t.None;"popoverOpen"in this.dataset?(this.close(),i&&"openAtPointer"in this.dataset&&this.open(e)):!this.hasAttribute("disabled")&&i&&this.open(e)}}function s(t,e){const n=document.getElementById(t);n&&n instanceof i&&n.setOpen(e)}function r(t,e){const n=document.getElementById(t);n&&n instanceof o&&n.setVisibility(e)}function a(t){const e=document.getElementById(t);e&&e instanceof i&&e.toggleOpen()}function h(t){const e=document.getElementById(t);e&&e instanceof o&&e.toggleVisibility()}export{i as TavenemDropdownHTMLElement,e as TavenemPopover,n as TavenemPopoverHTMLElement,o as TavenemTooltipHTMLElement,s as setDropdownOpen,r as setTooltipVisibility,a as toggleDropdown,h as toggleTooltip};
//# sourceMappingURL=tavenem-popover.js.map
