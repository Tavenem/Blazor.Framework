{"version":3,"file":"tavenem-popover.js","sources":["../../../../assets/scripts/tavenem-popover.ts"],"sourcesContent":[null],"names":["flipClassReplacements","top","left","right","bottom","map","contentObserver","popoverConnect","id","dotNetRef","anchorId","focusId","popoverInitialize","popoverNode","document","getElementById","addEventListener","cancelFocusLoss","anchor","containingParent","parentElement","contains","getComputedStyle","position","parent","placePopover","observer","MutationObserver","callback","observe","attributeFilter","parentResizeObserver","ResizeObserver","entries","entry","target","i","childNodes","length","childNode","HTMLElement","startsWith","resizeObserver","style","overflowRegex","listeningForPopoverScroll","test","overflow","overflowY","overflowX","placePopovers","mutationObserver","popoverDisconnect","item","removeEventListener","disconnect","popoverDispose","mainContent","popoverMark","repositionPopover","setPopoverOffset","offsetX","offsetY","prevX","prevY","undefined","Number","parseFloat","substr","toFixed","setPopoverPosition","clientX","clientY","calculatePopoverPosition","list","boundingRect","selfRect","indexOf","width","height","mutationsList","mutation","type","classList","popoverFlipped","removeAttribute","e","popoverIds","Element","popover","closest","push","popoverId","focusTimer","clearTimeout","focusPopovers","isIn","unshift","childPopover","querySelector","withinPopover","setTimeout","relatedTarget","focusedPopover","ref","invokeMethodAsync","offsetBoundingRect","element","documentElement","nodeName","window","transform","perspective","willChange","filter","contain","getPropertyValue","getOffsetParent","getBoundingClientRect","anchorElementId","anchorElement","anchorBoundingRect","minWidth","maxWidth","classListArray","Array","from","postion","absLeft","absTop","deltaToLeft","deltaToRight","innerWidth","deltaTop","spaceToTop","deltaBottom","innerHeight","selector","newPosition","inputArray","replacments","getPositionForFlippedPopver","setAttribute","items","result","getAllObservedContainers","bind"],"mappings":"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"}