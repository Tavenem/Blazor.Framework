{"version":3,"file":"tavenem-contents.js","sources":["../../../../../src/assets/scripts/tavenem-contents.ts"],"sourcesContent":[null],"names":["TavenemContentsHTMLElement","HTMLElement","constructor","super","this","_headings","_mutationObserver","MutationObserver","mutations","updated","mutation","type","removedNodes","length","node","addedNodes","HTMLHeadingElement","classList","contains","dataset","closest","target","refresh","connectedCallback","shadow","attachShadow","mode","style","document","createElement","innerHTML","appendChild","slot","defaultContent","add","textContent","nav","observe","parentNode","attributeFilter","childList","subtree","addEventListener","handleScrollSpy","bind","window","disconnectedCallback","removeEventListener","documentPositionComparator","a","b","position","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_CONTAINS","root","shadowRoot","querySelector","parent","Array","from","querySelectorAll","filter","x","map","v","i","heading","headingLevel","Number","parseInt","tagName","startsWith","substring","getAttribute","headingTitle","toString","sort","children","minHeadings","maxLevel","maxLevelOffset","lowest","reduce","p","c","lowestLevel","highestLevel","offset","link","id","href","location","origin","pathname","scrollToHeading","paddingInlineStart","push","replaceChildren","remove","_activeHeading","highestElementBelowZero","lowestElementAboveZero","highestBelowZero","MIN_SAFE_INTEGER","lowestAboveZero","MAX_SAFE_INTEGER","minTop","innerHeight","rect","getBoundingClientRect","top","activeHeading","scrollIntoView","behavior","block","inline","hash","history","replaceState"],"mappings":"iKASM,MAAOA,UAAmCC,YAK5C,WAAAC,GACIC,QAEAC,KAAKC,UAAY,GAEjBD,KAAKE,kBAAoB,IAAIC,kBAAiBC,IAC1C,IAAIC,GAAU,EACd,IAAK,MAAMC,KAAYF,EACnB,GAAsB,cAAlBE,EAASC,KAAsB,CAC/B,GAAID,EAASE,aAAaC,OAAQ,CAC9BJ,GAAU,EACV,KACH,CACD,IAAK,MAAMK,KAAQJ,EAASK,WACxB,IAAKD,aAAgBE,oBACbF,aAAgBb,aACba,EAAKG,UAAUC,SAAS,mBAC1B,qBAAsBJ,EAAKK,UAC6B,MAA1DL,EAAKM,QAAQ,0CAAmD,CACnEX,GAAU,EACV,KACH,CAEL,GAAIA,EACA,KAEP,MAAM,GAAsB,eAAlBC,EAASC,OACZD,EAASW,kBAAkBL,oBACvBN,EAASW,kBAAkBpB,aACxBS,EAASW,OAAOJ,UAAUC,SAAS,iBAC0B,MAArER,EAASW,OAAOD,QAAQ,0CAAmD,CAC9EX,GAAU,EACV,KACH,CAEDA,GACAL,KAAKkB,SACR,GAER,CAED,iBAAAC,GACI,MAAMC,EAASpB,KAAKqB,aAAa,CAAEC,KAAM,SAEnCC,EAAQC,SAASC,cAAc,SACrCF,EAAMG,UAAY,63FA6HlBN,EAAOO,YAAYJ,GAEnB,MAAMK,EAAOJ,SAASC,cAAc,QACpCL,EAAOO,YAAYC,GAEnB,MAAMC,EAAiBL,SAASC,cAAc,QAC9CI,EAAehB,UAAUiB,IAAI,iBAC7BD,EAAeE,YAAc,WAC7BH,EAAKD,YAAYE,GAEjB,MAAMG,EAAMR,SAASC,cAAc,OACnCO,EAAInB,UAAUiB,IAAI,iBAClBV,EAAOO,YAAYK,GAEnBhC,KAAKkB,UAELlB,KAAKE,kBAAkB+B,QACnBjC,KAAKkC,YAAcV,SACnB,CACIW,gBAAiB,CACb,qBACA,qBACA,2BAEJC,WAAW,EACXC,SAAS,IAGjBb,SAASc,iBAAiB,SAAUtC,KAAKuC,gBAAgBC,KAAKxC,OAAO,GACrEyC,OAAOH,iBAAiB,SAAUtC,KAAKuC,gBAAgBC,KAAKxC,OAAO,EACtE,CAED,oBAAA0C,GACIlB,SAASmB,oBAAoB,SAAU3C,KAAKuC,gBAAgBC,KAAKxC,OAAO,GACxEyC,OAAOE,oBAAoB,SAAU3C,KAAKuC,gBAAgBC,KAAKxC,OAAO,EACzE,CAEO,iCAAO4C,CAA2BC,EAASC,GAC/C,GAAID,IAAMC,EACN,OAAO,EAGX,IAAIC,EAAWF,EAAEG,wBAAwBF,GAEzC,OAAIC,EAAWE,KAAKC,6BAA+BH,EAAWE,KAAKE,gCACvD,EACDJ,EAAWE,KAAKG,6BAA+BL,EAAWE,KAAKI,2BAC/D,EAEA,CAEd,CAED,OAAAnC,GACI,MAAMoC,EAAOtD,KAAKuD,WAClB,IAAKD,EACD,OAEJ,MAAMtB,EAAMsB,EAAKE,cAAc,qBAC/B,IAAKxB,EACD,OAGJ,MAAMyB,EAASzD,KAAKkC,YAAcV,SAElCxB,KAAKC,UAAYyD,MACZC,KAAKF,EAAOG,iBAAiB,mCAC7BC,QAAOC,GAAKA,aAAajE,eACjB,qBAAsBiE,EAAE/C,UAC6B,MAAvD+C,EAAE9C,QAAQ,4CAChB+C,KAAI,CAACC,EAAGC,KACL,MAAMC,EAAUF,EAOhB,OANAE,EAAQC,aAAeC,OAAOC,SAASL,EAAEM,QAAQC,WAAW,KACtDP,EAAEM,QAAQE,UAAU,GACnBR,EAAES,aAAa,uBAAyB,KAC/CP,EAAQQ,aAAeV,EAAES,aAAa,uBAC/BT,EAAEjC,aACF,WAAWkC,EAAEU,aACbT,CAAO,IACfU,KAAKhF,EAA2BgD,4BAEvC,MAAMiC,EAAmB,GACzB,GAAI7E,KAAKC,UAAUQ,OAAS,EAAG,CAC3B,MAAMqE,EAAcT,SAASrE,KAAKe,QAAQ+D,aAAe,KACzD,GAAIA,EAAc,GAAK9E,KAAKC,UAAUQ,QAAUqE,EAAa,CACzD,MAAMC,EAAWV,SAASrE,KAAKe,QAAQgE,UAAY,KAC7CC,EAAiBX,SAASrE,KAAKe,QAAQiE,gBAAkB,KAEzDC,EAASjF,KACVC,UACA4D,QAAOG,GAAKA,EAAEG,aAAe,IAC7Be,QAAO,CAACC,EAAGC,IAAOD,GAAKA,EAAEhB,aAAeiB,EAAEjB,aAAgBgB,EAAIC,IAC7DC,EAAcJ,EACdA,EAAOd,aACP,EACAmB,EAA+B,IAAhBD,EACf,EACArF,KACGC,UACAiF,QAAO,CAACC,EAAGC,IAAOD,GAAKA,EAAEhB,aAAeiB,EAAEjB,aAAgBgB,EAAIC,IAC9DjB,aACT,IAAK,MAAMD,KAAWlE,KAAKC,UAAW,CAClC,GAAI8E,EAAW,IACiB,GAAxBb,EAAQC,cACLD,EAAQC,aAAeY,GAC9B,SAGJ,MAAMQ,EAASrB,EAAQC,aACjBD,EAAQC,aAAekB,EACvBC,EAAe,EAErB,GAAIN,GAAkB,GACfO,EAASP,EACZ,SAGJ,MAAMQ,EAAOhE,SAASC,cAAc,KACpC+D,EAAKtB,QAAUA,EAEXA,EAAQuB,GACRD,EAAKE,KAAOjD,OAAOkD,SAASC,OAASnD,OAAOkD,SAASE,SAAW,IAAI3B,EAAQuB,KAE5ED,EAAKlD,iBAAiB,QAAStC,KAAK8F,gBAAgBtD,KAAKxC,KAAMkE,IAG/DmB,EAAc,GAAKE,EAAS,IAC5BC,EAAKjE,MAAMwE,mBAAiC,GAATR,EAAH,OAGpCC,EAAKzD,YAAcmC,EAAQQ,aAE3BG,EAASmB,KAAKR,EACjB,CACJ,CACJ,CACDxD,EAAIiE,mBAAmBpB,GAEC,IAApBA,EAASpE,OACTT,KAAKa,UAAUiB,IAAI,SAEnB9B,KAAKa,UAAUqF,OAAO,QAE7B,CAEO,eAAA3D,GACJ,MAAMe,EAAOtD,KAAKuD,WAClB,IAAKD,EACD,OAEJ,MAAMtB,EAAMsB,EAAKE,cAAc,qBAC/B,IAAKxB,EACD,OAGJ,GAA8B,IAA1BhC,KAAKC,UAAUQ,OAAc,CAC7B,IAAK,MAAM+E,KAAQxD,EAAI6C,SACnBW,EAAK3E,UAAUqF,OAAO,UAG1B,mBADOlG,KAAKmG,cAEf,CAED,IAEIC,EACAC,EAHAC,EAAmBlC,OAAOmC,iBAC1BC,EAAkBpC,OAAOqC,iBAG7B,MAAMC,EAA8B,GAArBjE,OAAOkE,YACtB,IAAK,IAAI1C,EAAI,EAAGA,EAAIjE,KAAKC,UAAUQ,OAAQwD,IAAK,CAC5C,MAAMC,EAAUlE,KAAKC,UAAUgE,GAEzB2C,EAAO1C,EAAQ2C,wBAEjBD,EAAKE,IAAM,EACPF,EAAKE,IAAMR,IACXA,EAAmBM,EAAKE,IACxBV,EAA0BlC,GAEvB0C,EAAKE,IAAMJ,GACfE,EAAKE,IAAMN,IACdA,EAAkBI,EAAKE,IACvBT,EAAyBnC,EAEhC,CAED,MAAM6C,EAAgBV,GAA0BD,EAChD,GAAKW,GAQL,GAAIA,GAAiB/G,KAAKmG,eAAgB,CACtCnG,KAAKmG,eAAiBY,EACtB,IAAK,MAAMvB,KAAQxD,EAAI6C,SACdW,EAAoCtB,UAAY6C,EACjDvB,EAAK3E,UAAUiB,IAAI,UAEnB0D,EAAK3E,UAAUqF,OAAO,SAGjC,MAjBD,CACI,IAAK,MAAMV,KAAQxD,EAAI6C,SACnBW,EAAK3E,UAAUqF,OAAO,iBAEnBlG,KAAKmG,cAEf,CAYJ,CAEO,eAAAL,CAAgB5B,GACpBA,EAAQ8C,eAAe,CACnBC,SAAU,SACVC,MAAO,QACPC,OAAQ,YAER1E,OAAOkD,SAASyB,MACb3E,OAAOkD,SAASyB,KAAK3G,QACxB4G,QAAQC,aAAa,KAAM,GAAI7E,OAAOkD,SAASE,SAEtD"}