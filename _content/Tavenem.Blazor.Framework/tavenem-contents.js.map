{"version":3,"file":"tavenem-contents.js","sources":["../../../../../src/assets/scripts/tavenem-contents.ts"],"sourcesContent":[null],"names":["TavenemContentsHTMLElement","HTMLElement","constructor","super","this","_headings","_mutationObserver","MutationObserver","mutations","updated","mutation","type","node","removedNodes","HTMLHeadingElement","classList","contains","dataset","closest","index","indexOf","splice","addedNodes","heading","headingLevel","Number","parseInt","tagName","startsWith","substring","getAttribute","headingTitle","textContent","length","toString","push","target","hidden","refreshHeadings","connectedCallback","shadow","attachShadow","mode","style","document","createElement","innerHTML","appendChild","slot","defaultContent","add","nav","getHeadings","observe","parentNode","attributeFilter","childList","subtree","addEventListener","handleScrollSpy","bind","window","disconnectedCallback","removeEventListener","documentPositionComparator","a","b","position","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_CONTAINS","refresh","parent","Array","from","querySelectorAll","filter","x","map","v","i","root","shadowRoot","querySelector","link","children","remove","_activeHeading","highestElementBelowZero","lowestElementAboveZero","highestBelowZero","MIN_SAFE_INTEGER","lowestAboveZero","MAX_SAFE_INTEGER","minTop","innerHeight","rect","getBoundingClientRect","top","activeHeading","sort","minHeadings","maxLevel","maxLevelOffset","lowest","reduce","p","c","lowestLevel","highestLevel","offset","id","href","scrollToHeading","paddingInlineStart","replaceChildren","scrollIntoView","behavior","block","inline","location","hash","history","replaceState","pathname"],"mappings":"iKASM,MAAOA,UAAmCC,YAK5C,WAAAC,GACIC,QAEAC,KAAKC,UAAY,GAEjBD,KAAKE,kBAAoB,IAAIC,kBAAiBC,IAC1C,IAAIC,GAAU,EACd,IAAK,MAAMC,KAAYF,EACnB,GAAsB,cAAlBE,EAASC,KAAsB,CAC/B,IAAK,MAAMC,KAAQF,EAASG,aACxB,IAAKD,aAAgBE,oBACbF,aAAgBX,aACbW,EAAKG,UAAUC,SAAS,mBAC1B,qBAAsBJ,EAAKK,UAC6B,MAA1DL,EAAKM,QAAQ,0CAAmD,CACnE,MAAMC,EAAQf,KAAKC,UAAUe,QAAQR,GACjCO,GAAS,IACTf,KAAKC,UAAUgB,OAAOF,EAAO,GAC7BV,GAAU,EAEjB,CAEL,IAAK,MAAMG,KAAQF,EAASY,WACxB,IAAKV,aAAgBE,oBACbF,aAAgBX,aACbW,EAAKG,UAAUC,SAAS,mBAC1B,qBAAsBJ,EAAKK,UAC6B,MAA1DL,EAAKM,QAAQ,0CAAmD,CAEnE,IAAc,GADAd,KAAKC,UAAUe,QAAQR,GACpB,CACb,MAAMW,EAAUX,EAChBW,EAAQC,aAAeC,OAAOC,SAASH,EAAQI,QAAQC,WAAW,KAC5DL,EAAQI,QAAQE,UAAU,GACzBN,EAAQO,aAAa,uBAAyB,KACrDP,EAAQQ,aAAeR,EAAQO,aAAa,uBACrCP,EAAQS,aACR,WAAW5B,KAAKC,UAAU4B,OAAOC,aACxC9B,KAAKC,UAAU8B,KAAKZ,GACpBd,GAAU,CACb,CACJ,CAER,MAAM,GAAsB,eAAlBC,EAASC,OACXD,EAAS0B,kBAAkBtB,oBACxBJ,EAAS0B,kBAAkBnC,aACxBS,EAAS0B,OAAOrB,UAAUC,SAAS,iBAC8B,MAArEN,EAAS0B,OAAOlB,QAAQ,0CAAmD,CAC9E,MAAMmB,EAAS,qBAAsB3B,EAAS0B,OAAOnB,QAC/CE,EAAQf,KAAKC,UAAUe,QAAQV,EAAS0B,QAC9C,GAAIjB,GAAS,EAAG,CACZ,GAAIkB,EACAjC,KAAKC,UAAUgB,OAAOF,EAAO,OAC1B,CACH,MAAMI,EAAUnB,KAAKC,UAAUc,GAC/BI,EAAQC,aAAeC,OAAOC,SAASH,EAAQI,QAAQC,WAAW,KAC5DL,EAAQI,QAAQE,UAAU,GACzBN,EAAQO,aAAa,uBAAyB,KACrDP,EAAQQ,aAAeR,EAAQO,aAAa,uBACrCP,EAAQS,aACR,WAAW5B,KAAKC,UAAU4B,OAAOC,YAC3C,CACDzB,GAAU,CACb,MAAM,IAAK4B,EAAQ,CAChB,MAAMd,EAAUb,EAAS0B,OACzBb,EAAQC,aAAeC,OAAOC,SAASH,EAAQI,QAAQC,WAAW,KAC5DL,EAAQI,QAAQE,UAAU,GACzBN,EAAQO,aAAa,uBAAyB,KACrDP,EAAQQ,aAAeR,EAAQO,aAAa,uBACrCP,EAAQS,aACR,WAAW5B,KAAKC,UAAU4B,OAAOC,aACxC9B,KAAKC,UAAU8B,KAAKZ,GACpBd,GAAU,CACb,CACJ,CAGLA,GACAL,KAAKkC,iBACR,GAER,CAED,iBAAAC,GACI,MAAMC,EAASpC,KAAKqC,aAAa,CAAEC,KAAM,SAEnCC,EAAQC,SAASC,cAAc,SACrCF,EAAMG,UAAY,63FA6HlBN,EAAOO,YAAYJ,GAEnB,MAAMK,EAAOJ,SAASC,cAAc,QACpCL,EAAOO,YAAYC,GAEnB,MAAMC,EAAiBL,SAASC,cAAc,QAC9CI,EAAelC,UAAUmC,IAAI,iBAC7BD,EAAejB,YAAc,WAC7BgB,EAAKD,YAAYE,GAEjB,MAAME,EAAMP,SAASC,cAAc,OACnCM,EAAIpC,UAAUmC,IAAI,iBAClBV,EAAOO,YAAYI,GAEnB/C,KAAKgD,cAELhD,KAAKkC,kBAELlC,KAAKE,kBAAkB+C,QACnBjD,KAAKkD,YAAcV,SACnB,CACIW,gBAAiB,CACb,qBACA,qBACA,2BAEJC,WAAW,EACXC,SAAS,IAGjBb,SAASc,iBAAiB,SAAUtD,KAAKuD,gBAAgBC,KAAKxD,OAAO,GACrEyD,OAAOH,iBAAiB,SAAUtD,KAAKuD,gBAAgBC,KAAKxD,OAAO,EACtE,CAED,oBAAA0D,GACIlB,SAASmB,oBAAoB,SAAU3D,KAAKuD,gBAAgBC,KAAKxD,OAAO,GACxEyD,OAAOE,oBAAoB,SAAU3D,KAAKuD,gBAAgBC,KAAKxD,OAAO,EACzE,CAEO,iCAAO4D,CAA2BC,EAASC,GAC/C,GAAID,IAAMC,EACN,OAAO,EAGX,IAAIC,EAAWF,EAAEG,wBAAwBF,GAEzC,OAAIC,EAAWE,KAAKC,6BAA+BH,EAAWE,KAAKE,gCACvD,EACDJ,EAAWE,KAAKG,6BAA+BL,EAAWE,KAAKI,2BAC/D,EAEA,CAEd,CAED,OAAAC,GACItE,KAAKgD,cACLhD,KAAKkC,iBACR,CAEO,WAAAc,GACJ,MAAMuB,EAASvE,KAAKkD,YAAcV,SAElCxC,KAAKC,UAAYuE,MACZC,KAAKF,EAAOG,iBAAiB,mCAC7BC,QAAOC,GAAKA,aAAa/E,eACjB,qBAAsB+E,EAAE/D,UAC6B,MAAvD+D,EAAE9D,QAAQ,4CAChB+D,KAAI,CAACC,EAAGC,KACL,MAAM5D,EAAU2D,EAOhB,OANA3D,EAAQC,aAAeC,OAAOC,SAASwD,EAAEvD,QAAQC,WAAW,KACtDsD,EAAEvD,QAAQE,UAAU,GACnBqD,EAAEpD,aAAa,uBAAyB,KAC/CP,EAAQQ,aAAemD,EAAEpD,aAAa,uBAC/BoD,EAAElD,aACF,WAAWmD,EAAEjD,aACbX,CAAO,GAEzB,CAEO,eAAAoC,GACJ,MAAMyB,EAAOhF,KAAKiF,WAClB,IAAKD,EACD,OAEJ,MAAMjC,EAAMiC,EAAKE,cAAc,qBAC/B,IAAKnC,EACD,OAGJ,GAA8B,IAA1B/C,KAAKC,UAAU4B,OAAc,CAC7B,IAAK,MAAMsD,KAAQpC,EAAIqC,SACnBD,EAAKxE,UAAU0E,OAAO,UAG1B,mBADOrF,KAAKsF,cAEf,CAED,IAEIC,EACAC,EAHAC,EAAmBpE,OAAOqE,iBAC1BC,EAAkBtE,OAAOuE,iBAG7B,MAAMC,EAA8B,GAArBpC,OAAOqC,YACtB,IAAK,IAAIf,EAAI,EAAGA,EAAI/E,KAAKC,UAAU4B,OAAQkD,IAAK,CAC5C,MAAM5D,EAAUnB,KAAKC,UAAU8E,GAEzBgB,EAAO5E,EAAQ6E,wBAEjBD,EAAKE,IAAM,EACPF,EAAKE,IAAMR,IACXA,EAAmBM,EAAKE,IACxBV,EAA0BpE,GAEvB4E,EAAKE,IAAMJ,GACfE,EAAKE,IAAMN,IACdA,EAAkBI,EAAKE,IACvBT,EAAyBrE,EAEhC,CAED,MAAM+E,EAAgBV,GAA0BD,EAChD,GAAKW,GAQL,GAAIA,GAAiBlG,KAAKsF,eAAgB,CACtCtF,KAAKsF,eAAiBY,EACtB,IAAK,MAAMf,KAAQpC,EAAIqC,SACdD,EAAoChE,UAAY+E,EACjDf,EAAKxE,UAAUmC,IAAI,UAEnBqC,EAAKxE,UAAU0E,OAAO,SAGjC,MAjBD,CACI,IAAK,MAAMF,KAAQpC,EAAIqC,SACnBD,EAAKxE,UAAU0E,OAAO,iBAEnBrF,KAAKsF,cAEf,CAYJ,CAEO,eAAApD,GACJ,MAAM8C,EAAOhF,KAAKiF,WAClB,IAAKD,EACD,OAEJ,MAAMjC,EAAMiC,EAAKE,cAAc,qBAC/B,IAAKnC,EACD,OAGJ/C,KAAKC,UAAYD,KAAKC,UAAUkG,KAAKvG,EAA2BgE,4BAChE,MAAMwB,EAAmB,GACzB,GAAIpF,KAAKC,UAAU4B,OAAS,EAAG,CAC3B,MAAMuE,EAAc9E,SAAStB,KAAKa,QAAQuF,aAAe,KACzD,GAAIA,EAAc,GAAKpG,KAAKC,UAAU4B,QAAUuE,EAAa,CACzD,MAAMC,EAAW/E,SAAStB,KAAKa,QAAQwF,UAAY,KAC7CC,EAAiBhF,SAAStB,KAAKa,QAAQyF,gBAAkB,KAEzDC,EAASvG,KACVC,UACA0E,QAAOG,GAAKA,EAAE1D,aAAe,IAC7BoF,QAAO,CAACC,EAAGC,IAAOD,GAAKA,EAAErF,aAAesF,EAAEtF,aAAgBqF,EAAIC,IAC7DC,EAAcJ,EACdA,EAAOnF,aACP,EACAwF,EAA+B,IAAhBD,EACf,EACA3G,KACGC,UACAuG,QAAO,CAACC,EAAGC,IAAOD,GAAKA,EAAErF,aAAesF,EAAEtF,aAAgBqF,EAAIC,IAC9DtF,aACT,IAAK,MAAMD,KAAWnB,KAAKC,UAAW,CAClC,GAAIoG,EAAW,IACiB,GAAxBlF,EAAQC,cACLD,EAAQC,aAAeiF,GAC9B,SAGJ,MAAMQ,EAAS1F,EAAQC,aACjBD,EAAQC,aAAeuF,EACvBC,EAAe,EAErB,GAAIN,GAAkB,GACfO,EAASP,EACZ,SAGJ,MAAMnB,EAAO3C,SAASC,cAAc,KACpC0C,EAAKhE,QAAUA,EAEXA,EAAQ2F,GACR3B,EAAK4B,KAAO,IAAI5F,EAAQ2F,KAExB3B,EAAK7B,iBAAiB,QAAStD,KAAKgH,gBAAgBxD,KAAKxD,KAAMmB,IAG/DwF,EAAc,GAAKE,EAAS,IAC5B1B,EAAK5C,MAAM0E,mBAAiC,GAATJ,EAAH,OAGpC1B,EAAKvD,YAAcT,EAAQQ,aAE3ByD,EAASrD,KAAKoD,EACjB,CACJ,CACJ,CACDpC,EAAImE,mBAAmB9B,GAEC,IAApBA,EAASvD,OACT7B,KAAKW,UAAUmC,IAAI,SAEnB9C,KAAKW,UAAU0E,OAAO,QAE7B,CAEO,eAAA2B,CAAgB7F,GACpBA,EAAQgG,eAAe,CACnBC,SAAU,SACVC,MAAO,QACPC,OAAQ,YAER7D,OAAO8D,SAASC,MACb/D,OAAO8D,SAASC,KAAK3F,QACxB4F,QAAQC,aAAa,KAAM,GAAIjE,OAAO8D,SAASI,SAEtD"}