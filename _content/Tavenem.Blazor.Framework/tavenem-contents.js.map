{"version":3,"file":"tavenem-contents.js","sources":["../../../../../src/assets/scripts/tavenem-contents.ts"],"sourcesContent":[null],"names":["TavenemContentsHTMLElement","HTMLElement","constructor","super","this","_headings","_mutationObserver","MutationObserver","mutations","updated","mutation","type","node","removedNodes","HTMLHeadingElement","classList","contains","dataset","closest","addedNodes","target","refresh","connectedCallback","shadow","attachShadow","mode","style","document","createElement","innerHTML","appendChild","slot","defaultContent","add","textContent","nav","observe","parentNode","attributeFilter","childList","subtree","addEventListener","handleScrollSpy","bind","window","disconnectedCallback","removeEventListener","documentPositionComparator","a","b","position","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_CONTAINS","root","shadowRoot","querySelector","parent","Array","from","querySelectorAll","filter","x","map","v","i","heading","headingLevel","Number","parseInt","tagName","startsWith","substring","getAttribute","headingTitle","toString","sort","children","length","minHeadings","maxLevel","maxLevelOffset","lowest","reduce","p","c","lowestLevel","highestLevel","offset","link","id","href","location","origin","pathname","scrollToHeading","paddingInlineStart","push","replaceChildren","remove","_activeHeading","highestElementBelowZero","lowestElementAboveZero","highestBelowZero","MIN_SAFE_INTEGER","lowestAboveZero","MAX_SAFE_INTEGER","minTop","innerHeight","rect","getBoundingClientRect","top","activeHeading","scrollIntoView","behavior","block","inline","hash","history","replaceState"],"mappings":"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"}