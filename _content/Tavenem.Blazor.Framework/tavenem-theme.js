var e;!function(e){e[e.Auto=0]="Auto",e[e.Light=1]="Light",e[e.Dark=2]="Dark"}(e||(e={}));const t=[];let n,o=!1;function r(e){const n=t.indexOf(e);n>=0&&t.splice(n,1)}function a(){if(o&&n)return n;const t=localStorage.getItem("tavenem-theme");if(t){const n=parseInt(t);if(n==e.Light||n==e.Dark)return n}return m()}function i(e){t.push(e)}function c(r,a){if(a)o=r!=e.Auto;else if(o)return;n=r;const i=m();if(r==e.Auto&&(r=i),r==e.Dark?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light"),r==i?localStorage.removeItem("tavenem-theme"):a&&localStorage.setItem("tavenem-theme",r.toString()),t.length)for(let e of t)e.invokeMethodAsync("NotifyThemeChanged",r)}function m(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?e.Dark:e.Light}if(window.matchMedia){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(){c(a())}))}c(a());export{r as cancelListener,a as getPreferredColorScheme,i as listenForThemeChange,c as setColorScheme};
//# sourceMappingURL=tavenem-theme.js.map
